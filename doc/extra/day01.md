# 从零入门 C 语言： Day1 - "Hello, World!"原来也这么复杂

大家好啊，欢迎来到 C 语言的世界！作为一个入门者，你即将踏上一段有趣的编程旅程。而我们要做的第一件事，就是写出一个无比经典且简单的程序——"Hello, World!"。准备好了吗？带上你的大脑和电脑（如果是手机超人也可以），我们要出发咯！

## 最难的问题：Hello World

程序员调查表明，Hello, World 劝退很多新人，如果你能越过这道坎，那么你已经击败了 50%的萌新了 awa

```c
#include <stdio.h>

int main() {
    printf("Hello World!\n");
    return 0;
}
```

## 冒险启程

### 引入主角：`#include <stdio.h>`

一切编程冒险的开始，往往需要介绍主角。`#include <stdio.h>`，就像是你打开了大门，邀请了 C 语言的图书管理员进来。这个图书管理员叫做 stdio.h，全名是“标准输入输出头文件”，它会帮你处理所有输入输出的操作。

- 问题：为什么要请这个图书管理员？
- 答案：因为你马上要用到它的宝贝——printf 函数，来把“Hello, World!”打印到屏幕上。如果没有它，printf 就无家可归，根本用不了。

### 主办方出场：`int main()`

然后，我们的主办方登场了：int main()。这就是你程序的“大老板”，相当于所有代码的起点，所有程序都必须从这里开始执行。主办方全程监督你的程序，不管你有多少代码，都得从这里开始运行。

- 问题：为什么是 int 类型？
- 答案：因为在 C 语言里，main 函数必须给操作系统打个招呼，告诉它程序运行完后是成功了，还是出问题了。int 类型表示返回一个整数，0 表示“一切顺利，没毛病”，其他数字则意味着“嗯，有点小问题”。

### 打印操作：`printf("Hello, World!\n");`

接下来就是本次冒险的重头戏了！`printf("Hello, World!\n");`。`printf` 函数就像是一个巨大的喇叭，它会大声宣布：“Hello, World!”。

- 问题：为什么有个\n？
- dark 案：这个神秘的\n 是一个控制符，表示“换行”。就好像你在纸上写字，写完一句话，换行再写下一句。如果没有它，你的输出就会一行连着一行，显得有点凌乱。

### 礼貌的告别：`return 0;`

最后，主办方 main 函数礼貌地对操作系统说：“感谢光临，一切顺利！”通过 return 0;这句话，你告诉操作系统，程序没有出错，可以放心关闭。这是一种好习惯，因为虽然你不告诉它也能运行，但你得有礼貌嘛，是吧？

### 编译与运行：是时候展示真正的实力了

写完代码可不意味着工作结束了！你还得把这段文字转化为计算机能懂的“机器语言”。这是通过编译器来完成的。

#### 编译命令

##### GCC

```bash
gcc helloworld.c -o helloworld
```

这句话告诉编译器：“把 helloworld.c 这个文件编译成名为 helloworld 的可执行文件。”

#### 运行程序

```bash
./helloworld
```

##### MSVC

直接点编译和运行按钮

这时，计算机会乖乖地在屏幕上显示：“Hello, World!”

## 拆包

### 头文件

#### 什么是头文件？

头文件其实是一些已经写好的 C 语言代码的集合，通常以.h 结尾。你可以把它理解为一份“说明书”，当你需要用某个功能时，头文件就告诉编译器如何找到和使用这个功能。

举个栗子：

- `stdio.h`：包含标准输入输出函数，比如`printf`、`scanf`等。
- `stdlib.h`：包含内存分配、程序控制、随机数等函数。
- `math.h`：包含数学函数，比如`sin`、`cos`、`sqrt`等。

#### 如何引入头文件？

我们使用预处理指令`#include`来引入头文件。举个例子：

```c
#include <stdio.h>
```

这个指令告诉编译器：在编译这段代码时，先把 stdio.h 的内容包含进来，以便程序中可以使用它的功能.

#### 系统头文件和自定义头文件

- 系统头文件：放在尖括号< >里面，编译器知道去系统目录找这些文件。例如：

```c
#include <stdio.h>
```

- 自定义头文件：如果你自己写了一个头文件，需要用双引号" "包含，编译器会在你的项目目录里找。例如：

```c
#include "myheader.h"
```

### 主函数

```c
int main(int argc, char *argv[]) {
    // 使用命令行参数的代码
    return 0;
}
```

- 参数: argc：表示命令行参数的个数。argv[]：是一个字符串数组，存储命令行传入的参数。**一般情况下可以不写**
- 返回值类型 int：main()函数返回一个整数类型的数据。这个返回值通常用来告诉操作系统程序的执行结果。返回 0 意味着程序成功执行，非零值则表示程序有问题。
- 函数体：花括号{}里面就是你程序的逻辑。你可以把所有需要执行的代码都写在这里。
- `return 0;`：return 语句告诉操作系统程序执行完毕了。返回 0 表示成功。虽然对于小程序可以不写 return 0;，但这是个好习惯。

**C++用户请注意，写 `return 0;`并不是好习惯，并不被推荐！**

### 输出

`printf()`函数是 C 语言中最常用的输出函数，它的作用是将数据打印到标准输出（通常是屏幕）。`printf()`函数由`stdio.h`头文件提供。

#### printf()的基本用法

```c
printf("Hello, World!\n");
```

这个函数会将双引号内的字符串输出到屏幕上。printf()可以输出不同类型的数据，具体的输出格式由格式化占位符决定。

#### 常用的格式化占位符

- %d：输出整数（int 类型）。
- %f：输出浮点数（float、double 类型）。
- %c：输出单个字符。
- %s：输出字符串（字符数组）。

```c
int age = 25;
float height = 5.9;
printf("I am %d years old and %.1f feet tall.\n", age, height);
```

```c
I am 25 years old and 5.9 feet tall.
```

#### 转义字符

转义字符是用于表示某些特殊字符的，例如换行、制表符等。

- \n：换行符。
- \t：制表符，相当于插入了一个“跳格”。
- \\：输出反斜杠\本身。

```c
printf("Hello,\nWorld!\tTabbed!\n");
```

```text
Hello,
World! Tabbed!
```

#### 关于 puts（另一种输出）

```c
puts("This line is printed using puts(), and it automatically adds a newline.");
```

**请注意 puts 并不被推荐使用，完全不如 printf，以下是不使用的原因**

- 自动添加换行符: `puts()`函数的一个显著特征是它会自动添加换行符。这在某些简单的场景下很方便，但在更复杂的程序中，往往并不符合预期。
- 无法处理格式化输出: `puts()`只能打印单一的字符串，并且不支持格式化输出（如插入变量、控制输出精度等）。
- 缺少错误处理: `puts()`在失败时通常返回一个非负值（EOF 表示错误），但它并不会提供详细的错误信息。

## 完整的代码

[在线编译器代码测试](https://godbolt.org/z/39ao5df4q)

```c
#include <stdio.h>
#include <stdlib.h>

int main() {
    // 1. 使用 printf 输出到屏幕
    printf("Hello, World! This is printed using printf().\n");

    // 2. 使用 puts 输出到屏幕
    puts("This line is printed using puts(), and it automatically adds a newline.");

    // 3. 使用 putchar 输出单个字符到屏幕
    putchar('A');
    putchar('\n');
    return 0;
}
```

## 总结

“Hello, World!”虽然只是个简单的小程序，但它背后涉及了很多 C 语言的基本概念：头文件、函数、语句、控制符、返回值、编译运行……别看它简单，这可是每个程序员的“开门钥匙”。
所以，恭喜你！迈出了编程世界的第一步。只要记住，每一个复杂的程序都源于这种小小的 printf，就像每一篇大作都是从一个字开始的！
从此，编程之路正式开启，未来你还会学到更多神奇的东西，比如条件判断、循环、指针等等。不过别急，慢慢来，一切都会明朗。希望你编程愉快，`bug 少少，代码美美！`
