# 从零入门 C 语言： Day3 - 重复的事情说一次就够了

今天的内容将为你提供一个清晰的起点，帮助你掌握循环语句这一编程中的重要概念。循环语句让我们能够高效地重复执行任务，这不仅是编程的基本能力之一，更是编写灵活、动态程序的关键。
准备好了吗？让我们一起进入 C 语言的世界，揭开循环语句的神秘面纱，开始这场充满逻辑与创造力的冒险吧！**C 语言，启动！**

## `for` 循环

for 循环是最常见的循环之一。最经典形状应该是长下面这样的：

```c
for (初始化; 条件; 更新) {
    // 循环体
}
```

### 具体的执行步骤

- 初始化：在循环开始时执行一次。
- 条件：每次循环前检查，如果条件为真（非零），继续执行循环体；为假（零）则退出循环。
- 更新：每次循环结束后执行一次，通常用于更新循环变量。

### 举个栗子

```c
#include <stdio.h>

int main() {
    int i;
    for (i = 0; i < 5; i++) {
        printf("i = %d\n", i);
    }
    return 0;
}
```

这个例子中，i 从 0 开始，每次循环加 1，直到 i 不小于 5。输出结果是 i = 0 到 i = 4。

### 注意点

for 循环适用于已知循环次数的情况。你可以在 for 循环中省略某些部分，比如初始化或更新，但分号必须保留。

### 特殊的 `for(;;)`

for (;;) 是一种特殊的 for 循环结构，它表示一个无限循环。

#### 具体剖析

按照刚才对 for 结构的分析，我们不难发现，在 for (;;) 中，三个部分都被省略了：

- 初始化：没有初始化变量。
- 条件：没有明确条件，C/C++ 默认为真（true），因此会导致无限循环。
- 迭代：没有迭代语句。

由于没有条件限制，所以当遇到 for (;;) 时，程序会无限地执行其循环体，直到发生某种中断，如 break、return 或外部干预（例如终止程序）

#### 来个栗子

```c
#include <stdio.h>

int main() {
    int count = 0;

    for (;;) {  // 无限循环
        printf("Count: %d\n", count);
        count++;

        if (count >= 5) {
            break;  // 当 count 达到 5 时退出循环
        }
    }

    return 0;
}
```

## while 循环

while 循环是在条件为真时反复执行的循环。

```c
while (条件) {
// 循环体
}
```

在每次循环前检查。如果条件为真（非零），执行循环体；否则退出循环。

### 还是需要一个例子

```c
#include <stdio.h>

int main() {
    int i = 0;
    while (i < 5) {
        printf("i = %d\n", i);
        i++;
    }
    return 0;
}
```

这个例子与 for 循环的例子类似，i 从 0 开始，每次循环加 1，直到 i 不小于 5 时退出。

### 注意点

如果条件在循环内没有被修改，可能导致死循环（循环永远不会结束）。但是有的时候我们也会主动创造一些死循环的情况，比如说像下面这种，条件始终为真，那么如果内部不退出或者杀死进程的话，会不停运行循环体。

```c
while (true) {
    // 循环体
}

```

## do-while 循环

do-while 循环与 while 循环类似，但它至少执行一次循环体，然后再检查条件。

```c
do {
// 循环体
} while (条件);
```

首先执行一次循环体，然后检查条件。如果条件为真，继续循环；否则退出。

### Example

```c
#include <stdio.h>

int main() {
    int i = 0;
    do {
        printf("i = %d\n", i);
        i++;
    } while (i < 5);
    return 0;
}
```

这里 i 依旧从 0 开始，循环体会先执行一次，然后再检查条件。

### 注意点

由于 do-while 循环是先执行再判断条件，因此即使条件一开始为假，循环体也会执行一次。

## 经典循环应用

### 求和算法

计算从 1 到 100 的所有整数之和。

```c
#include <stdio.h>

int main() {
    int sum = 0;
    int i;

    for (i = 1; i <= 100; i++) {
        sum += i;
    }

    printf("1到100的和是: %d\n", sum);
    return 0;

}
```

### 计算阶乘

计算一个数的阶乘，比如 5! = 5 × 4 × 3 × 2 × 1。

```c
#include <stdio.h>

int main() {
    int n = 5; // 要计算的阶乘数
    int factorial = 1;
    int i;

    for (i = 1; i <= n; i++) {
        factorial *= i;
    }

    printf("%d 的阶乘是: %d\n", n, factorial);
    return 0;

}
```

### 斐波那契数列

生成斐波那契数列的前 10 个数字。

```c
#include <stdio.h>

int main() {
    int n = 10;
    int first = 0, second = 1, next;
    int i;

    printf("斐波那契数列: ");

    for (i = 0; i < n; i++) {
        if (i <= 1) {
            next = i;
        } else {
            next = first + second;
            first = second;
            second = next;
        }
        printf("%d ", next);
    }

    printf("\n");
    return 0;

}
```

## 总结

- for 循环：适用于已知循环次数的情况。
- while 循环：适用于条件驱动的循环。
- do-while 循环：至少执行一次的条件循环。

**人生就像一场旅行，不要重复走以前的路，而要勇敢地探索未知的方向。**
